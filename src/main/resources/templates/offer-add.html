<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="~{/fragments/head}"></th:block>
</head>
<body>
<main class="main">
    <nav class="navbar navbar-expand-lg navbar-background">
        <th:block th:include="~{/fragments/nav}"></th:block>
    </nav>

    <div class="container">
        <h2 class="text-center text-white">Upload Offer</h2>
        <form th:object="${offer}" class="mx-auto w-15" th:action="@{/offers/add}" method="POST">

            <div class="row">
                <div class="col col-md-3"></div>
                <div class="col col-md-6">
                    <div class="form-group ">
                        <div class="label-holder d-flex justify-content-center">
                            <label class="text-center text-white font-weight-bold" for="category">Category
                                <select th:field="*{category}" id="category" name="category" class="form-control">
                                    <option th:each="cat : ${T(com.evelin.cars.model.VehicleCategory).values()}"
                                            th:value="${cat}"
                                            th:text="${cat}" th:selected="${offer.category == cat}">
                                        Vehicle Category
                                    </option>
                                </select>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col col-md-3"></div>
                <div class="col col-md-6">
                    <div class="form-group ">
                        <label class="text-center text-white font-weight-bold" for="model">Model</label>
                        <select th:field="*{model.id}" id="model" class="form-control">
                            <option value="">- Select a model -</option>
                            <optgroup th:each="brand : ${brands}" th:label="|-- ${brand.name} --|">
                                <option th:each="brand_model : ${brand.models}" th:value="${brand_model.id}"
                                        th:text="|   ${brand.name} ${brand_model.name}|"
                                        th:selected="${offer.model != null && brand_model.id == offer.model.id}">
                                    Model
                                </option>
                            </optgroup>
                        </select>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col col-md-3"></div>
                <div class="col col-md-6">
                    <div class="form-group">
                        <div class="label-holder d-flex justify-content-center">
                            <label class="text-center text-white font-weight-bold" for="year">Year
                                <input type="number" class="form-control" placeholder="Year" name="year" id="year"
                                       th:value="*{year}">
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col col-md-3"></div>
                <div class="col col-md-6">
                    <div class="form-group ">
                        <div class="label-holder d-flex justify-content-center">
                            <label class="text-center text-white font-weight-bold" for="engine">Engine
                                <select th:field="*{engine}"id="engine" name="engine" class="form-control">
                                    <option th:each="eng_type : ${T(com.evelin.cars.model.Engine).values()}" th:value="${eng_type}"  th:text="${eng_type}" th:selected="${offer.engine == eng_type}">
                                        Engine type
                                    </option>
                                </select>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col col-md-3"></div>
                <div class="col col-md-6">
                    <div class="form-group">
                        <div class="label-holder d-flex justify-content-center">
                            <label class="text-center text-white font-weight-bold" for="year">Mileage
                                <input type="number" class="form-control" placeholder="Mileage" name="mileage"
                                       id="mileage">
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col col-md-3"></div>
                <div class="col col-md-6">
                    <div class="form-group">
                        <div class="label-holder d-flex justify-content-center">
                            <label class="text-center text-white font-weight-bold" for="price">Price
                                <input type="number" th:value="*{price}" class="form-control"
                                       placeholder="Price"
                                       name="price" id="price">
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col col-md-3"></div>
                <div class="col col-md-6">
                    <div class="form-group ">
                        <div class="label-holder d-flex justify-content-center">
                            <label class="text-center text-white font-weight-bold" for="transmission">Transmission
                                <select id="transmission" name="transmission" class="form-control">
                                    <option value="Manual">Manual</option>
                                    <option value="Automatic">Automatic</option>
                                    <option value="Semiauto">Semi-auto</option>
                                </select>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col col-md-3"></div>
                <div class="col col-md-6">
                    <div class="form-group">
                        <div class="label-holder d-flex justify-content-center">
                            <label class="text-center text-white font-weight-bold" for="imageUrl">Picture Url
                                <input type="text" class="form-control" name="imageUrl" id="imageUrl"
                                       placeholder="Picture Url">
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <div class="label-holder d-flex justify-content-center">
                            <label class="text-center text-white font-weight-bold" for="description">Description
                                <textarea th:value="*{description}" type="textarea" class="form-control"
                                          name="description"
                                          id="description" rows="3"
                                          placeholder="Description"></textarea>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col col-md-4"></div>
                <div class="col col-md-4">
                    <div class="button-holder d-flex justify-content-center">
                        <input type="submit" class="btn btn-secondary" value="Upload Car"/>
                    </div>
                </div>
            </div>
        </form>
    </div>
</main>
</body>
</html>
